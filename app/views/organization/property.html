<div data-ng-controller="PropertyController">
<div>
	<ul class="breadcrumb">
		<li><a href="#/organization">{{'link.admin.organisation' | translate}}</a> <span class="divider">/</span></li>
		<li class="active">Property Definition</li>
	</ul>
	<div class="pull-right">
	    <a data-ng-show="PermissionService.showMenu('CREATE_PROPERTY')" data-ng-click="uploadProperty()" class="btn btn-primary"><i class="icon-cloud-upload"></i>Property Data Upload</a>
		<a data-ng-show="PermissionService.showMenu('CREATE_PROPERTY')" href="#/createproperty" class="btn btn-primary"><i class="icon-plus icon-white"></i> {{ 'label.create.new.property' | translate }}</a>
	</div>
	</div>
	<div  class="row-fluid">
		<input data-ng-model="filterText" type="text" class="span marginbottom0px" placeholder="Enter text to search"> <br>
		<table class="table">
			<thead>
				<tr class="graybg">
					<th>{{ 'table.heading.propertycode' | translate }}</th>
					<th>{{ 'table.heading.propertytype' | translate }}</th>
					<th>{{ 'table.heading.parcel' | translate }}</th>
					<th>{{ 'table.heading.buildingcode' | translate }}</th>
					<th>{{ 'table.heading.precinct' | translate }}</th>
				</tr>
			</thead>
			<tbody>
				<tr class="pointer-main" data-ng-repeat="propertyCode in propertyCodes | filter:filterText">
					<td class="pointer" >{{propertyCode.propertyCode}}</td>
					<td class="pointer" >{{propertyCode.propertyType}}</td>
					<td class="pointer" >{{propertyCode.parcel}}</td>	
                    <td class="pointer" >{{propertyCode.buildingCode}}</td>	
					<td class="pointer" >{{propertyCode.precinct}}</td>
				</tr>
			</tbody>
		</table>
	</div>
	
	   <script type="text/ng-template" id="uploadProperty.html">
    	<div class="modal-header silver">
        	<h3 class="bolder">{{'dialog.upload.property.data' | translate}}</h3>
        </div>
       	<form name="uploadPropertyForm" novalidate="" class="form-horizontal well">
	 		<div class="error" ng-show="errorStatus || errorDetails">
				<label>{{'label.contract.error' | translate}}</label>
				<label ng-show="errorStatus">{{errorStatus}}</label>
				<label ng-hide="errorStatus" ng-repeat="error in errorDetails">{{error.code | translate}}</label>
	   		</div>
		   	<fieldset>
					<table width="100%">
						<tr>
						  <td width="50%">
						    <div class="control-group">
                            <label class="control-label" for="file">{{'label.client.select.file' | translate}}</label>
                            <div class="controls">
                           <input type="file" ng-file-select="onFileSelect($files)">
                            </div>
                              </div>
							</td>
						</tr>
					</table>  
           </fieldset>       	
        </div>
        <div class="modal-footer">
        	<button id="cancel" class="btn" ng-click="cancel()">{{'button.cancel' | translate}}</button>
            <button id="submit" class="btn btn-primary" data-ng-disabled="!value" ng-click="approve()">{{'label.confirm' | translate}}</button>
        </div>
	</script>
</div>