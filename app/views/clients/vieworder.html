	<div ng-controller="OrderController">
<div><ul class="breadcrumb">
  <img ng-hide="imagePresent" src="../app/images/blank_avatar.jpg" alt="Avatar" width="40">
     <img ng-show="imagePresent" src="{{image}}" alt="Avatar" width="40">
     <li>
          <h3>
            &nbsp;
            {{displayName}}
            &nbsp;
            <i class="icon-circle {{statusActive | StatusLookup}}"></i>
            &nbsp;
          </h3>
        </li>
        <li><span class="divider">|</span>
          <i class="icon-barcode"></i>
          <small>Uniquely identified with {{accountNo}}&nbsp;</small>
        </li>
        <li><span class="divider">|</span>
          <i class="icon-building"></i>
          <small>Belongs to "{{officeName}}" office</small>
        </li>
         <li><span class="divider">|</span>
          <i></i>
          <small>Balance:{{balanceAmount}} &nbsp;{{currency}}</small>
        </li>
 </ul>
   <div>
		<ul class="breadcrumb">
			<li><a href="#/clients">{{'link.clients' | translate}}</a> <span class="divider">/</span></li>
			<li><a href="#/viewclient/{{orderPriceDatas[0].clientId}}">{{'link.view.client' | translate}}</a> <span class="divider">/</span></li>
			<li class="active">{{orderData.planCode}}</li>
		</ul>
	</div>
	<div class="error" ng-show="errorStatus || errorDetails">
		<label>{{'label.contract.error' | translate}}</label>
		<label ng-show="errorStatus">{{errorStatus}}</label>
		<label ng-hide="errorStatus" ng-repeat="error in errorDetails">{{error.code | translate}}</label>
	    </div>
   <div class="pull-right"> 
	      <div class="btn-group">
	         <!-- <a ng-show="orderData.status == 'ACTIVE'" href="#/editplan/{{plan.id}}" class="btn btn-primary"><i class="icon-wrench icon-white"></i> Update</a> -->
	         <a ng-show="orderData.status == 'ACTIVE'" href="#/disconnectOrder/{{orderPriceDatas[0].orderId}}" class="btn btn-primary"><i class="icon-remove icon-white"></i> Disconnect</a>
	         <a ng-show="orderData.status == 'DISCONNECTED'" ng-click="reconnect()" class="btn btn-primary"><i class=" icon-repeat icon-white"></i> Reconnect</a>
	         <a ng-show="orderData.contractPeriod !='perpetual '  && orderData.isPrepaid == 'N'" href="#/renewalOrder/{{orderPriceDatas[0].orderId}}/{{clientId}}" class="btn btn-primary"><i class="icon-edit icon-white"></i>Renewal</a>
	         <a ng-show="orderData.isPrepaid == 'Y'"  href="#/renewalOrder/{{orderPriceDatas[0].orderId}}/{{clientId}}" class="btn btn-primary"><i class="icon-arrow-up icon-white"></i>TopUp</a>
	         <a ng-show="orderData.provisioningSys =='Comvenient' && orderData.status == 'ACTIVE'"href="#/osdMessage/{{orderPriceDatas[0].orderId}}" class="btn btn-primary"><i class="icon-edit icon-white"></i> OSDMessage</a>
	         <a ng-show="orderData.provisioningSys =='Comvenient' && orderData.status == 'ACTIVE'" ng-click="retrack()" class="btn btn-primary"><i class=" icon-repeat icon-white"></i> Retrack</a>
	          <a ng-show="orderData.status == 'PENDING'" ng-click="cancel()" class="btn btn-primary"><i class="icon-remove-circle icon-white"></i> Cancel</a>
	      </div>
	    </div>
</div>

<div class="row paddedleft">
		
		<table width="100%">
			<tr>
				<td width="20%">{{ 'label.plan.plancode' | translate }}</td>
				<td width="70%">{{orderData.planCode}}</td>
			</tr>
			<tr>
				<td>{{ 'label.order.contractperiod' | translate }}</td>
				<td>{{orderData.contractPeriod}}</td>
			</tr>
			<tr>
				<td>{{ 'label.order.status' | translate }}</td>
				<td>{{orderData.status}}</td>
			</tr>
			<tr>
				<td>{{ 'label.order.useraction' | translate }}</td>
				<td>{{orderData.userAction}}</td>
			</tr>
			<tr>
				<td>{{ 'label.plan.isprepaid' | translate }}</td>
				<td>{{orderData.isPrepaid}}</td>
			</tr>
			
		</table>
	</div>
<div class="row-fluid " >
   <div id="msg"></div> 
	<table class="table">
        <thead>
        <p>
    <b><h4>Order Price</h4></b>
    </p>
            <tr class="graybg">
                <th>{{ 'table.order.service' | translate }}</th>
                <th>{{ 'table.order.chargecode' | translate }}</th>
                <th>{{ 'table.order.billstartdate' | translate }}</th>
                <th>{{ 'table.order.billenddate' | translate }}</th>
                <th>{{ 'table.order.invoicetilldate' | translate }}</th>
                <th>{{ 'table.order.billingcycle' | translate }}</th>
                <th>{{ 'table.order.price' | translate }}</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="orderPriceData in orderPriceDatas">
                <td>{{orderPriceData.chargeCode}}</td>            
                <td>{{orderPriceData.chargeType}}</td>        
                <td>{{orderPriceData.billStartDate | DateFormat}}</td>         
                <td>{{orderPriceData.billEndDate| DateFormat}}</td>
                <td>{{orderPriceData.invoiceTillDate| DateFormat}}</td>
                <td>{{orderPriceData.billingCycle}}</td>
                <td><input type="text" id="planCode" ng-model="orderPriceData.price" class="input-small" ng-change="status()"></td>
                <td>
                 <a ng-click="updatePrice(orderPriceData.id,orderPriceData.price)" class="btn btn-primary"><i class="icon-remove-circle icon-white"></i>Update</a>
           </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="row-fluid " >
   <div id="msg"></div> 
    <div class="pull-right">
		         <a ng-show="orderData.status != 'DISCONNECTED'"  href="#/association/{{clientId}}" class="btn btn-primary"><i class="icon-plus icon-white"></i></a>
		         <a ng-show="orderData.status == 'DISCONNECTED'" ng-click="deAssociation()" class="btn btn-primary"><i class=" icon-repeat icon-white"></i> De Associate</a>
	        </div>
	<table class="table">
        <thead>
        <p>
    <b><h4>Order Binding</h4></b>
    </p>
            <tr class="graybg">
                <th>Order Id</th>
                <th>Plan Code</th>
                <th>Item Code</th>
                <th>Serial Number</th>
            </tr>
        </thead>
        <tbody>
            <tbody>
            <tr>                 
                <td>{{association.orderId}}</a></td>
                <td>{{association.planCode}}</a></td>
                <td>{{association.itemCode}}</td>
                <td>{{association.serialNum}}</td>
            </tr>
        </tbody>
        </tbody>
    </table>
</div>

<div class="row-fluid ">
    
	<table class="table">
        <thead>
        <p>
    <b><h4>Order History</h4></b>
    </p>
            <tr class="graybg">
                <th>{{ 'table.order.transactiondate' | translate }}</th>
                <th>{{ 'table.order.actualdate' | translate }}</th>
                <th>{{ 'table.order.processorderid' | translate }}</th>
                <th>{{ 'table.order.transactiontype' | translate }}</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="orderHistory in orderHistorydata">
                <td>{{orderHistory.transactionDate | DateFormat}}</td>            
                <td>{{orderHistory.actualDate | DateFormat}}</td>        
                <td>{{orderHistory.PrepareRequsetId}}</td>         
                <td>{{orderHistory.transactioType}}</td>
                
            </tr>
        </tbody>
    </table>
</div>
</div>